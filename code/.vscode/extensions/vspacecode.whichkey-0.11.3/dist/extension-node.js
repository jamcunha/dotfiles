(()=>{"use strict";var e={8314:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSortComparer=t.nonNumberFirstComparer=t.alphabeticalComparer=t.typeThenCustomComparer=t.customComparer=void 0;const s=i(5601);function n(e){let t=e.type;return e.bindings&&"conditional"==t&&e.bindings.every((t=>e.bindings&&t.type===e.bindings[0].type))&&(t=e.bindings[0].type),t}function o(e){return"bindings"===e?1:0}function r(e){let t;return 1===Array.from(e).length?0:(t=e.match(/^[fF]([1-9][0-9]?)$/))?+t[1]:/.+-.+/g.test(e)?100:101}let a;function h(e){var t,i;const s=null!==(t=e.codePointAt(0))&&void 0!==t?t:0;return a=null!=a?a:function(){let e=0;const t=new Map;return[[32,32],[0,31],[127,127],[33,47],[58,64],[91,96],[123,126],[48,57],[97,122],[65,90]].forEach((i=>{const[s,n]=i;for(let i=s;i<=n;i++)t.set(i,e++)})),t}(),null!==(i=a.get(s))&&void 0!==i?i:s}function d(e,t){const i=r(e.key)-r(t.key);return 0!==i?i:function(e,t,i){const s=Array.from(t).map(e),n=Array.from(i).map(e),o=Math.min(t.length,i.length);for(let e=0;e<o;e++){const t=s[e]-n[e];if(0!==t)return t}return s.length-n.length}(h,e.key,t.key)}function c(e,t){const i=o(n(e))-o(n(t));return 0!==i?i:d(e,t)}function u(e,t){return e.key.localeCompare(t.key)}function l(e,t,i){const s=/^[0-9]/,n=s.test(t.key);return n!==s.test(i.key)?n?1:-1:e(t,i)}t.customComparer=d,t.typeThenCustomComparer=c,t.alphabeticalComparer=u,t.nonNumberFirstComparer=l,t.getSortComparer=function(e){switch(e){case s.SortOrder.Custom:return d;case s.SortOrder.CustomNonNumberFirst:return l.bind(null,d);case s.SortOrder.TypeThenCustom:return c;case s.SortOrder.Alphabetically:return u;case s.SortOrder.NonNumberFirst:return l.bind(null,u);default:return}}},2532:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CommandRelay=void 0;const s=i(9496);t.CommandRelay=class{constructor(){this.keyEmitter=new s.EventEmitter,this.zenModeEmitter=new s.EventEmitter,this.searchBindingsEmitter=new s.EventEmitter,this.undoKeyEmitter=new s.EventEmitter}triggerKey(e){"string"==typeof e&&(e={key:e}),this.keyEmitter.fire(e)}get onDidKeyPressed(){return this.keyEmitter.event}toggleZenMode(){this.zenModeEmitter.fire()}get onDidToggleZenMode(){return this.zenModeEmitter.event}searchBindings(){this.searchBindingsEmitter.fire()}get onDidSearchBindings(){return this.searchBindingsEmitter.event}undoKey(){this.undoKeyEmitter.fire()}get onDidUndoKey(){return this.undoKeyEmitter.event}dispose(){this.keyEmitter.dispose(),this.zenModeEmitter.dispose(),this.searchBindingsEmitter.dispose()}}},2148:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.toCommands=t.toBindingItem=void 0,t.toBindingItem=function(e){if("object"==typeof e){const t=e;if(t.key&&t.name&&t.type)return t}},t.toCommands=function(e){let t,i;return e.commands?(t=e.commands,i=e.args):e.command?(t=[e.command],i=[e.args]):(t=[],i=[]),{commands:t,args:i}}},9385:(e,t)=>{function i(e){if(e&&e.length>0){const t=e.split(";").reduce(((e,t)=>{const[i,s]=t.split(":");return e[i]=s,e}),{});if("when"in t||"languageId"in t)return{when:t.when,languageId:t.languageId}}}function s(e,t){if(e&&t){let i=!0;return i=i&&e.when===t.when,i=i&&e.languageId===t.languageId,i}return e===t}Object.defineProperty(t,"__esModule",{value:!0}),t.isConditionKeyEqual=t.isConditionEqual=t.evalCondition=t.getCondition=void 0,t.getCondition=i,t.evalCondition=function(e,t){if(t&&e){let i=!0;return e.when&&(i=i&&e.when===t.when),e.languageId&&(i=i&&e.languageId===t.languageId),i}return e===t},t.isConditionEqual=s,t.isConditionKeyEqual=function(e,t){return s(i(e),i(t))}},5729:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.resolveMaybeConfig=void 0;const s=i(8593);t.resolveMaybeConfig=function(e){return"string"==typeof e?(0,s.getConfig)(e):e}},7360:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultWhichKeyConfig=t.toWhichKeyConfig=void 0;const s=i(5601);function n(e){return"string"==typeof e}function o(e){return e&&Array.isArray(e)&&2===e.length&&n(e[0])&&n(e[1])}function r(e){return`${e[0]}.${e[1]}`}t.toWhichKeyConfig=function(e){if("object"==typeof e&&(e.bindings&&o(e.bindings)&&(e.bindings=r(e.bindings)),e.overrides&&o(e.overrides)&&(e.overrides=r(e.overrides)),(t=e).bindings&&n(t.bindings)&&(!t.overrides||n(t.overrides))&&(!t.title||n(t.title))))return e;var t},t.defaultWhichKeyConfig={bindings:s.Configs.Bindings,overrides:s.Configs.Overrides}},5601:(e,t)=>{var i,s,n,o;Object.defineProperty(t,"__esModule",{value:!0}),t.Commands=t.Configs=t.ContextKey=t.SortOrder=t.CommandKey=t.ConfigKey=t.contributePrefix=t.extensionId=void 0,t.extensionId="VSpaceCode.whichkey",t.contributePrefix="whichkey",function(e){e.Delay="delay",e.ShowIcons="showIcons",e.ShowButtons="showButtons",e.UseFullWidthCharacters="useFullWidthCharacters",e.SortOrder="sortOrder",e.Bindings="bindings",e.Overrides="bindingOverrides"}(i=t.ConfigKey||(t.ConfigKey={})),function(e){e.Show="show",e.Register="register",e.Trigger="triggerKey",e.UndoKey="undoKey",e.SearchBindings="searchBindings",e.ShowTransient="showTransient",e.RepeatRecent="repeatRecent",e.RepeatMostRecent="repeatMostRecent",e.ToggleZenMode="toggleZenMode",e.OpenFile="openFile"}(s=t.CommandKey||(t.CommandKey={})),(o=t.SortOrder||(t.SortOrder={})).None="none",o.Custom="custom",o.CustomNonNumberFirst="customNonNumberFirst",o.TypeThenCustom="typeThenCustom",o.Alphabetically="alphabetically",o.NonNumberFirst="nonNumberFirst",(n=t.ContextKey||(t.ContextKey={})).Active="whichkeyActive",n.Visible="whichkeyVisible",n.TransientVisible="transientVisible",t.Configs={Delay:`${t.contributePrefix}.${i.Delay}`,ShowIcons:`${t.contributePrefix}.${i.ShowIcons}`,ShowButtons:`${t.contributePrefix}.${i.ShowButtons}`,UseFullWidthCharacters:`${t.contributePrefix}.${i.UseFullWidthCharacters}`,SortOrder:`${t.contributePrefix}.${i.SortOrder}`,Bindings:`${t.contributePrefix}.${i.Bindings}`,Overrides:`${t.contributePrefix}.${i.Overrides}`},t.Commands={Show:`${t.contributePrefix}.${s.Show}`,Register:`${t.contributePrefix}.${s.Register}`,Trigger:`${t.contributePrefix}.${s.Trigger}`,UndoKey:`${t.contributePrefix}.${s.UndoKey}`,SearchBindings:`${t.contributePrefix}.${s.SearchBindings}`,ShowTransient:`${t.contributePrefix}.${s.ShowTransient}`,RepeatRecent:`${t.contributePrefix}.${s.RepeatRecent}`,RepeatMostRecent:`${t.contributePrefix}.${s.RepeatMostRecent}`,ToggleZen:`${t.contributePrefix}.${s.ToggleZenMode}`,OpenFile:`${t.contributePrefix}.${s.OpenFile}`}},1710:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DispatchQueue=void 0,t.DispatchQueue=class{constructor(e){this._queue=[],this._isProcessing=!1,this._receiver=e}get length(){return this._queue.length}push(e){this._queue.push(e),this._receive()}clear(){this._queue.length=0}async _receive(){if(this._isProcessing)return;let e;for(this._isProcessing=!0;e=this._queue.shift();)await this._receiver(e);this._isProcessing=!1}}},6661:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseWhichKeyMenu=void 0;const s=i(9496),n=i(1710),o=i(8412);class r{constructor(e){this.showButtons=!0,this._acceptQueue=new n.DispatchQueue(this.handleAcceptanceDispatch.bind(this)),this._valueQueue=new n.DispatchQueue(this.handleValueDispatch.bind(this)),this._lastValue="",this._expectHiding=!1,this._state={delay:0,items:[],showMenu:!1},this._qp=s.window.createQuickPick(),this._onDidShowEmitter=new s.EventEmitter,this._onDidHideEmitter=new s.EventEmitter,this._onDisposeEmitter=new s.EventEmitter,this._disposables=[this._onDidShowEmitter,this._onDidHideEmitter,this._onDisposeEmitter,e.onDidKeyPressed(this.handleDidKeyPressed,this),this._qp.onDidAccept(this.handleDidAccept,this),this._qp.onDidChangeValue(this.handleDidChangeValue,this),this._qp.onDidHide(this.handleDidHide,this),this._qp]}set value(e){this._qp.value=e,r.shouldTriggerDidChangeValueOnSet&&this.handleDidChangeValue(e)}get value(){return this._qp.value}get when(){return this._when}get state(){return this._state}get onDidShow(){return this._onDidShowEmitter.event}get onDidHide(){return this._onDidHideEmitter.event}get onDidTriggerButton(){return this._qp.onDidTriggerButton}get onDispose(){return this._onDisposeEmitter.event}handleDidKeyPressed(e){this._when=e.when,this._valueQueue.push(e.key)}handleDidAccept(){if(this._qp.activeItems.length>0){const e=this._qp.activeItems[0];this._acceptQueue.push(e.item)}}handleDidChangeValue(e){const t=this._lastValue;e!==t&&(e.length>0&&e.length<t.length?this.value=t:(this._lastValue=e,e.startsWith(t)&&(e=e.substr(t.length)),this._valueQueue.push(e)))}handleDidHide(){this._onDidHideEmitter.fire(),this._expectHiding||this.dispose(),this._expectHiding=!1}clearDelay(){clearTimeout(this._timeoutId),this._timeoutId=void 0}async handleValueDispatch(e){if(e.length>0){const t=this._state.items.find((t=>t.key===e));t?await this.handleAcceptanceDispatch(t):await this.handleMismatchDispatch(e)}}handleAcceptanceDispatch(e){return this.handleDispatch(this.handleAccept(e))}handleMismatchDispatch(e){return this.handleDispatch(this.handleMismatch(e))}async handleDispatch(e){try{const t=await e;t?(this.value="",this.update(t),this.show()):this.resolve()}catch(e){this.reject(e)}}update(e){var t;this.clearDelay(),this._qp.title=e.title,this._qp.buttons=this.showButtons&&null!==(t=e.buttons)&&void 0!==t?t:[],this._qp.items=[],this._state=e,e.showMenu&&(this._qp.busy=!0,this._timeoutId=setTimeout((()=>{this._qp.busy=!1,this._qp.items=this.handleRender(e.items)}),e.delay))}resolve(){var e;null===(e=this.onDidResolve)||void 0===e||e.call(this),this.dispose()}reject(e){var t;null===(t=this.onDidReject)||void 0===t||t.call(this,e),this.dispose()}hide(){return new Promise((e=>{this._expectHiding=!0;const t=this._qp.onDidHide((()=>{this._expectHiding=!1,t.dispose(),e()}));this._qp.hide()}))}show(){this._qp.show(),this._onDidShowEmitter.fire()}dispose(){var e;this.clearDelay(),this._valueQueue.clear(),this._acceptQueue.clear(),this._onDisposeEmitter.fire();for(const e of this._disposables)e.dispose();null===(e=this.onDidResolve)||void 0===e||e.call(this)}}t.BaseWhichKeyMenu=r,r.shouldTriggerDidChangeValueOnSet=-1==o.Version.parse(s.version).compare(new o.Version(1,57,0))},9056:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.showDescBindMenu=void 0;const s=i(9496),n=i(1710),o=i(8593);class r{constructor(e){this._acceptQueue=new n.DispatchQueue(this.accept.bind(this)),this._expectHiding=!1,this._qp=e,this._disposables=[this._qp.onDidAccept(this.handleDidAccept,this),this._qp.onDidHide(this.handleDidHide,this),this._qp]}handleDidAccept(){if(this._qp.activeItems.length>0){const e=this._qp.activeItems[0];this._acceptQueue.push(e)}}async accept(e){try{this._qp.value="",e.commands&&(await this.hide(),await(0,o.executeCommands)(e.commands,e.args)),e.items?(this._qp.placeholder=e.description,this._qp.items=e.items,this.show()):this.resolve()}catch(e){this.reject(e)}}resolve(){var e;null===(e=this.onDidResolve)||void 0===e||e.call(this),this.dispose()}reject(e){var t;null===(t=this.onDidReject)||void 0===t||t.call(this,e),this.dispose()}handleDidHide(){this._expectHiding||this.dispose(),this._expectHiding=!1}hide(){return new Promise((e=>{this._expectHiding=!0;const t=this._qp.onDidHide((()=>{this._expectHiding=!1,t.dispose(),e()}));this._qp.hide()}))}show(){this._qp.show()}dispose(){var e;this._acceptQueue.clear();for(const e of this._disposables)e.dispose();null===(e=this.onDidResolve)||void 0===e||e.call(this)}}t.showDescBindMenu=function(e,t){return new Promise(((i,n)=>{const o=s.window.createQuickPick();o.matchOnDescription=!0,o.matchOnDetail=!0,o.items=e,o.title=t;const a=new r(o);a.onDidResolve=i,a.onDidReject=n,a.show()}))}},383:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createDescBindItems=void 0;const s=i(2148),n=i(9385),o=i(8593);function r(e){return e.map((e=>e.name)).join("$(chevron-right)")}function a(e,t=[]){const i=t.concat(e),a={label:(d=i,d.filter((e=>!(0,n.getCondition)(e.key))).map((e=>(0,o.toFullWidthSpecializedKey)(e.key))).join(" ")),detail:r(t),description:e.name};var d;if(e.bindings)a.items=h(e.bindings,i);else if(e.commands||e.command){const{commands:t,args:i}=(0,s.toCommands)(e);a.commands=t,a.args=i}return a}function h(e,t=[]){const i=[],s=[];for(const n of e){const e=a(n,t=t.filter((e=>e.bindings)));i.push(e),e.items&&s.push(...e.items)}return i.push(...s),i}t.createDescBindItems=h},441:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.showRepeaterMenu=void 0;const s=i(8593),n=i(6661);class o extends n.BaseWhichKeyMenu{constructor(e,t){super(t),this.useFullWidthCharacters=!1,this._statusBar=e}async handleAccept(e){this._statusBar.hide(),await this.hide(),await e.accept()}async handleMismatch(e){const t=`${(0,s.toSpecializedKey)(e)} is undefined`;this._statusBar.setErrorMessage(t)}handleRender(e){const t=e.reduce(((e,t)=>e>t.key.length?e:t.key.length),0);return e.map((e=>({label:this.useFullWidthCharacters?(0,s.toFullWidthSpecializedKey)(e.key)+(0,s.toFullWidthKey)(" ".repeat(t-e.key.length)):(0,s.toSpecializedKey)(e.key),description:`\t${e.name}`,detail:e.basePathNames.join("$(chevron-right)"),item:e})))}}t.showRepeaterMenu=function(e,t,i){return new Promise(((s,n)=>{const r=new o(e,t);r.useFullWidthCharacters=i.useFullWidthCharacters,r.update({title:i.title,items:i.items,delay:0,showMenu:!0}),r.onDidResolve=s,r.onDidReject=n,r.show()}))}},6544:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.showTransientMenu=void 0;const s=i(2148),n=i(5729),o=i(5601),r=i(8593),a=i(6661);class h extends a.BaseWhichKeyMenu{constructor(e,t){super(t),this.showIcon=!0,this.useFullWidthCharacters=!1,this._statusBar=e,this.__disposables=[t.onDidToggleZenMode(this.toggleZenMode,this),this.onDidHide((()=>(0,r.setContext)(o.ContextKey.TransientVisible,!1))),this.onDidShow((()=>(0,r.setContext)(o.ContextKey.TransientVisible,!0)))]}async handleAccept(e){await this.hide();const{commands:t,args:i}=(0,s.toCommands)(e);return await(0,r.executeCommands)(t,i),!0!==e.exit?this.state:void 0}async handleMismatch(e){const t=`${(0,r.toSpecializedKey)(e)} is undefined`;this._statusBar.setErrorMessage(t)}handleRender(e){e=e.filter((e=>"hidden"!==e.display));const t=e.reduce(((e,t)=>e>t.key.length?e:t.key.length),0);return e.map((e=>{const i=this.showIcon&&e.icon&&e.icon.length>0?`$(${e.icon})   `:"";return{label:this.useFullWidthCharacters?(0,r.toFullWidthSpecializedKey)(e.key)+(0,r.toFullWidthKey)(" ".repeat(t-e.key.length)):(0,r.toSpecializedKey)(e.key),description:`\t${i}${e.name}`,item:e}}))}dispose(){this._statusBar.hidePlain();for(const e of this.__disposables)e.dispose();super.dispose()}toggleZenMode(){this.update({...this.state,showMenu:!this.state.showMenu})}}t.showTransientMenu=function(e,t,i){return new Promise(((s,a)=>{var d,c,u,l,m;const g=(0,n.resolveMaybeConfig)(i),p=new h(e,t);p.showIcon=null===(c=null!==(d=null==g?void 0:g.showIcons)&&void 0!==d?d:(0,r.getConfig)(o.Configs.ShowIcons))||void 0===c||c,p.useFullWidthCharacters=null!==(l=null!==(u=null==g?void 0:g.useFullWidthCharacters)&&void 0!==u?u:(0,r.getConfig)(o.Configs.UseFullWidthCharacters))&&void 0!==l&&l,p.onDidResolve=s,p.onDidReject=a,p.update({title:null==g?void 0:g.title,items:null!==(m=null==g?void 0:g.bindings)&&void 0!==m?m:[],delay:0,showMenu:!0}),p.show()}))}},3042:(e,t,i)=>{var s;Object.defineProperty(t,"__esModule",{value:!0}),t.showWhichKeyMenu=void 0;const n=i(9496),o=i(2148),r=i(9385),a=i(5601),h=i(8593),d=i(6661),c=i(9056),u=i(383);function l(e,t){return null==e?void 0:e.find((e=>(0,r.evalCondition)((0,r.getCondition)(e.key),t)))}class m extends d.BaseWhichKeyMenu{constructor(e,t,i){super(t),this.useFullWidthCharacters=!1,this.showIcons=!0,this.delay=0,this._statusBar=e,this._repeater=i,this._stateHistory=[],this._itemHistory=[],this.__disposables=[t.onDidSearchBindings(this.handleDidSearchBindings,this),t.onDidUndoKey(this.handleDidUndoKey,this),this.onDidTriggerButton(this.handleDidTriggerButton,this),this.onDidHide((()=>(0,h.setContext)(a.ContextKey.Visible,!1))),this.onDidShow((()=>(0,h.setContext)(a.ContextKey.Visible,!0)))]}get condition(){var e;const t=null===(e=n.window.activeTextEditor)||void 0===e?void 0:e.document.languageId;return{when:this.when,languageId:t}}handleDidSearchBindings(){const e=(0,u.createDescBindItems)(this.state.items,this._itemHistory);return(0,c.showDescBindMenu)(e,"Search Keybindings")}handleDidUndoKey(){const e=this._stateHistory.length;if(e>1){const[t]=this._stateHistory.splice(e-2);this._itemHistory.pop(),this.value="",this.update(t),this.show()}}handleDidTriggerButton(e){switch(e){case m.UndoKeyButton:this.handleDidUndoKey();break;case m.SearchBindingButton:this.handleDidSearchBindings()}}async handleAccept(e){var t;this._itemHistory.push(e),this._statusBar.hide();const i=function(e,t){for(var i;e&&"conditional"===e.type;)e=null!==(i=l(e.bindings,t))&&void 0!==i?i:l(e.bindings,void 0);return e}(e,this.condition);if(i){if(i.commands||i.command){await this.hide();const{commands:e,args:s}=(0,o.toCommands)(i);await(0,h.executeCommands)(e,s),null===(t=this._repeater)||void 0===t||t.record(this._itemHistory)}if(i.bindings)return this._statusBar.setPlainMessage(this.toHistoricalKeysString()+"-",0),{items:i.bindings,title:e.name,delay:this.delay,showMenu:!0,buttons:m.NonRootMenuButtons}}else this._statusBar.setErrorMessage("No condition matched")}async handleMismatch(e){const t=this.toHistoricalKeysString(e);this._statusBar.setErrorMessage(`${t} is undefined`)}handleRender(e){e=e.filter((e=>"hidden"!==e.display));const t=e.reduce(((e,t)=>e>t.key.length?e:t.key.length),0);return e.map((e=>{const i=this.showIcons&&e.icon&&e.icon.length>0?`$(${e.icon})   `:"";return{label:this.useFullWidthCharacters?(0,h.toFullWidthSpecializedKey)(e.key)+(0,h.toFullWidthKey)(" ".repeat(t-e.key.length)):(0,h.toSpecializedKey)(e.key),description:`\t${i}${e.name}`,item:e}}))}toHistoricalKeysString(e){let t=this._itemHistory.map((e=>e.key));return e&&(t=t.concat(e)),t.map(h.toSpecializedKey).join(" ")}update(e){this._stateHistory.push(e),super.update(e)}dispose(){this._statusBar.hidePlain();for(const e of this.__disposables)e.dispose();super.dispose()}}s=m,m.SearchBindingButton={iconPath:new n.ThemeIcon("search"),tooltip:"Search keybindings"},m.UndoKeyButton={iconPath:new n.ThemeIcon("arrow-left"),tooltip:"Undo key"},m.NonRootMenuButtons=[s.UndoKeyButton,s.SearchBindingButton],t.showWhichKeyMenu=function(e,t,i,s){const o=new m(e,t,i);o.delay=s.delay,o.showIcons=s.showIcons,o.showButtons=s.showButtons,o.useFullWidthCharacters=s.useFullWidthCharacters,o.update({items:s.bindings,title:s.title,delay:s.delay,showMenu:!0,buttons:[m.SearchBindingButton]}),(async()=>{try{await Promise.all([new Promise(((e,t)=>{o.onDidResolve=e,o.onDidReject=t,o.show()})),(0,h.setContext)(a.ContextKey.Active,!0)])}catch(e){n.window.showErrorMessage(e.toString())}finally{await Promise.all([(0,h.setContext)(a.ContextKey.Active,!1),(0,h.setContext)(a.ContextKey.Visible,!1)])}})()}},6158:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StatusBar=void 0;const s=i(9496);class n{constructor(){this._isError=!1,this._item=s.window.createStatusBarItem(),this._timeout=n.DEFAULT_TIMEOUT}get timeout(){return this._timeout}set timeout(e){this._timeout=e}_setMessage(e,t,i){this.clearTimeout();const s=t?n.ERROR_FG_COLOR:void 0,o=t?n.ERROR_BG_COLOR:void 0;this._item.color=s,this._item.backgroundColor=o,this._item.text=e,this._isError=t,this.show(i)}clearTimeout(){this._timerId&&(clearTimeout(this._timerId),this._timerId=void 0)}setPlainMessage(e,t){this._setMessage(e,!1,t)}setErrorMessage(e,t){this._setMessage(e,!0,t)}show(e){const t=null!=e?e:this._timeout;this._item.show(),t>0&&(this._timerId=setTimeout(this.hide.bind(this),t))}hide(){this.clearTimeout(),this._item.hide()}hidePlain(){this._isError||this.hide()}hideError(){this._isError&&this.hide()}dispose(){this.clearTimeout(),this._item.dispose()}}t.StatusBar=n,n.DEFAULT_TIMEOUT=3e3,n.ERROR_FG_COLOR=new s.ThemeColor("statusBarItem.errorForeground"),n.ERROR_BG_COLOR=new s.ThemeColor("statusBarItem.errorBackground")},8593:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.toFullWidthSpecializedKey=t.toSpecializedKey=t.toFullWidthKey=t.pipe=t.getConfig=t.executeCommands=t.executeCommand=t.setContext=t.nameof=void 0;const s=i(9496);function n(e,t){if(Array.isArray(t)){const i=t;return s.commands.executeCommand(e,...i)}return t?s.commands.executeCommand(e,t):s.commands.executeCommand(e)}function o(...e){return t=>e.reduce(((e,t)=>t(e)),t)}function r(e){let t="";for(const i of e){const e=i.codePointAt(0);t+=e&&e>=33&&e<=126?String.fromCodePoint(e+65248):32===e?"　":i}return t}function a(e){let t="";for(const i of e){const e=i.codePointAt(0);t+=32===e?"␣":9===e?"↹":i}return t}t.nameof=e=>e,t.setContext=function(e,t){return s.commands.executeCommand("setContext",e,t)},t.executeCommand=n,t.executeCommands=async function(e,t){for(let i=0;i<e.length;i++){const s=e[i],o=null==t?void 0:t[i];await n(s,o)}},t.getConfig=function(e){let t,i=e;const n=e.lastIndexOf(".");return-1!==n&&(t=e.substring(0,n),i=e.substring(n+1)),s.workspace.getConfiguration(t).get(i)},t.pipe=o,t.toFullWidthKey=r,t.toSpecializedKey=a,t.toFullWidthSpecializedKey=o(a,r)},8412:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Version=void 0;class i{constructor(e,t,i){this._major=e,this._minor=t,this._patch=i}get major(){return this._major}get minor(){return this._minor}get patch(){return this._patch}compare(e){return this._major>e._major?1:this._major<e._major?-1:this._minor>e._minor?1:this._minor<e._minor?-1:this._patch>e._patch?1:this._patch<e._patch?-1:0}static compare(e,t){return"string"==typeof e&&(e=this.parse(e)),"string"==typeof t&&(t=this.parse(t)),e.compare(t)}static parse(e){const[t,s,n]=e.split(".").map((e=>parseInt(e,10)));return new i(t,s,n)}}t.Version=i},7315:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const s=i(9496),n=i(8314),o=i(2148),r=i(9385),a=i(5601),h=i(3042),d=i(8593),c=i(3499);function u(e,t,i=!1){var s,n;return i?null!==(s=null==e?void 0:e.findIndex((e=>(0,r.isConditionKeyEqual)(e.key,t))))&&void 0!==s?s:-1:null!==(n=null==e?void 0:e.findIndex((e=>e.key===t)))&&void 0!==n?n:-1}function l(e,t){var i;let s=e,n=!1;for(let e=0;e<t.length-1;e++){const o=t[e],r=u(s,o,n);if(-1===r){console.warn(`Key ${o} of ${t.toString()} not found`);break}n="conditional"===(null==s?void 0:s[r].type),s=null===(i=null==s?void 0:s[r])||void 0===i?void 0:i.bindings}return{bindingItems:s,isCondition:n}}function m(e,t){if(void 0!==t.name&&void 0!==t.type)return{key:e,name:t.name,icon:t.icon,display:t.display,type:t.type,command:t.command,commands:t.commands,args:t.args,bindings:t.bindings};throw new Error("name or type of the override is undefined")}function g(e,t){if(e&&t){e.sort(t);for(const i of e)g(i.bindings,t)}}function p(e){const t=[];if(e.bindings)for(const i of e.bindings)"command"===i.type||"commands"===i.type?t.push({key:i.key,name:i.name,icon:i.icon,display:i.display,...(0,o.toCommands)(i)}):"bindings"===i.type?t.push({key:i.key,name:i.name,icon:i.icon,display:i.display,command:a.Commands.Show,args:i.bindings,exit:!0}):"transient"===i.type?t.push({key:i.key,name:i.name,icon:i.icon,display:i.display,command:a.Commands.ShowTransient,args:{title:e.name,bindings:p(e)},exit:!0}):console.error(`Type ${i.type} is not supported in convertToTransientBinding`);return t}function y(e){if("transient"===e.type){const{commands:t,args:i}=(0,o.toCommands)(e);return t.push(a.Commands.ShowTransient),i[t.length-1]={title:e.name,bindings:p(e)},{key:e.key,name:e.name,icon:e.icon,display:e.display,type:"commands",commands:t,args:i}}return e}function f(e){const t=[];for(let i of e)i=y(i),i.bindings&&(i.bindings=f(i.bindings)),t.push(i);return t}function _(e){var t,i,s;const o=null!==(t=(0,d.getConfig)(e.bindings))&&void 0!==t?t:[];e.overrides&&function(e,t){for(const i of t)try{const t="string"==typeof i.keys?i.keys.split("."):i.keys,{bindingItems:s,isCondition:n}=l(e,t);if(void 0!==s){const e=t[t.length-1],o=u(s,e,n);if(void 0===i.position){const t=m(e,i);-1!==o?s.splice(o,1,t):s.push(t)}else if(i.position<0)-1!==o&&s.splice(o,1);else{-1!==o&&s.splice(o,1);const t=m(e,i);s.splice(i.position,0,t)}}}catch(e){console.error(e)}}(o,null!==(i=(0,d.getConfig)(e.overrides))&&void 0!==i?i:[]);const r=null!==(s=(0,d.getConfig)(a.Configs.SortOrder))&&void 0!==s?s:a.SortOrder.None;return g(o,(0,n.getSortComparer)(r)),f(o)}t.default=class{constructor(e,t){this.statusBar=e,this.cmdRelay=t,this.repeater=new c.WhichKeyRepeater(e,t)}register(e){this.unregister(),this.config=e,this.bindingItems=_(e),this.onConfigChangeListener=s.workspace.onDidChangeConfiguration((t=>{(t.affectsConfiguration(a.Configs.SortOrder)||t.affectsConfiguration(e.bindings)||e.overrides&&t.affectsConfiguration(e.overrides))&&this.register(e)}),this)}unregister(){var e;null===(e=this.onConfigChangeListener)||void 0===e||e.dispose(),this.repeater.clear()}show(){var e,t,i,s,n;const o=null!==(e=(0,d.getConfig)(a.Configs.Delay))&&void 0!==e?e:0,r=null===(t=(0,d.getConfig)(a.Configs.ShowIcons))||void 0===t||t,c=null===(i=(0,d.getConfig)(a.Configs.ShowButtons))||void 0===i||i,u=null!==(s=(0,d.getConfig)(a.Configs.UseFullWidthCharacters))&&void 0!==s&&s,l={bindings:this.bindingItems,delay:o,showIcons:r,showButtons:c,useFullWidthCharacters:u,title:null===(n=this.config)||void 0===n?void 0:n.title};(0,h.showWhichKeyMenu)(this.statusBar,this.cmdRelay,this.repeater,l)}showPreviousActions(){return this.repeater.show()}repeatLastAction(){return this.repeater.repeatLastAction()}static show(e,t,i){var s,n,o,r;const c={bindings:e,delay:null!==(s=(0,d.getConfig)(a.Configs.Delay))&&void 0!==s?s:0,showIcons:null===(n=(0,d.getConfig)(a.Configs.ShowIcons))||void 0===n||n,showButtons:null===(o=(0,d.getConfig)(a.Configs.ShowButtons))||void 0===o||o,useFullWidthCharacters:null!==(r=(0,d.getConfig)(a.Configs.UseFullWidthCharacters))&&void 0!==r&&r};(0,h.showWhichKeyMenu)(t,i,void 0,c)}}},4115:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WhichKeyRegistry=void 0;const s=i(2148),n=i(7315),o=i(7360);function r(e){return null!=e}t.WhichKeyRegistry=class{constructor(e,t){this.statusBar=e,this.cmdRelay=t,this.registry={}}register(e){const t=(0,o.toWhichKeyConfig)(e);if(t){const e=t.bindings;return this.has(e)||(this.registry[e]=new n.default(this.statusBar,this.cmdRelay)),this.registry[e].register(t),!0}return console.warn("Incorrect which-key config format."),!1}has(e){return e in this.registry}show(e){if("string"==typeof e)this.registry[e].show();else if(Array.isArray(e)&&e.length>0){const t=e.map(s.toBindingItem).filter(r);n.default.show(t,this.statusBar,this.cmdRelay)}else{const e=o.defaultWhichKeyConfig.bindings;this.has(e)||this.register(o.defaultWhichKeyConfig),this.registry[e].show()}}repeatRecent(e){return this.getRegister(e).showPreviousActions()}repeatMostRecent(e){return this.getRegister(e).repeatLastAction()}getRegister(e){if("string"==typeof e)return this.registry[e];{const e=o.defaultWhichKeyConfig.bindings;return this.has(e)||this.register(o.defaultWhichKeyConfig),this.registry[e]}}unregister(e){this.has(e)&&this.registry[e].unregister()}dispose(){for(const e of Object.keys(this.register))this.registry[e].unregister()}}},3499:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WhichKeyRepeater=void 0;const s=i(2148),n=i(5601),o=i(441),r=i(8593);class a{constructor(e){this.path=[...e]}get item(){return this.path[this.path.length-1]}get pathKey(){return this.path.map((e=>e.key)).toString()}get basePathNames(){return this.path.slice(0,-1).map((e=>e.name))}get shouldIgnore(){return 0===this.path.length||function(e){const t=(0,s.toCommands)(e).commands,i=[n.Commands.RepeatRecent,n.Commands.RepeatMostRecent];return t.findIndex(i.includes.bind(i))>=0}(this.item)}}class h{constructor(e,t){this.statusBar=e,this.cmdRelay=t,this.cache=[]}get isEmpty(){return 0===this.cache.length}get length(){return this.cache.length}record(e){const t=new a(e);if(t.shouldIgnore)return;const i=t.pathKey,s=this.cache.findIndex((e=>e.pathKey===i));s>=0&&this.cache.splice(s,1),this.cache.unshift(t),this.cache.length>h.MaxSize&&this.cache.pop()}async repeatLastAction(e=0){if(!this.isEmpty&&e>=0&&e<this.length){const t=this.cache.splice(e,1)[0],{commands:i,args:n}=(0,s.toCommands)(t.item);await(0,r.executeCommands)(i,n),this.cache.unshift(t)}else this.statusBar.setErrorMessage("No last action")}repeatAction(e){const t=this.cache.findIndex((t=>t.pathKey===e));return this.repeatLastAction(t)}show(){var e;const t={title:"Repeat previous actions",items:this.createMenuItems(),useFullWidthCharacters:null!==(e=(0,r.getConfig)(n.Configs.UseFullWidthCharacters))&&void 0!==e&&e};return(0,o.showRepeaterMenu)(this.statusBar,this.cmdRelay,t)}clear(){this.cache.length=0}createMenuItems(){return this.cache.map(((e,t)=>({key:(t+1).toString(),name:e.item.name,basePathNames:e.basePathNames,accept:this.repeatAction.bind(this,e.pathKey)})))}}t.WhichKeyRepeater=h,h.MaxSize=9},9496:e=>{e.exports=require("vscode")}},t={};function i(s){var n=t[s];if(void 0!==n)return n.exports;var o=t[s]={exports:{}};return e[s](o,o.exports,i),o.exports}var s={};(()=>{var e=s;Object.defineProperty(e,"__esModule",{value:!0}),e.activate=void 0;const t=i(9496),n=i(2532),o=i(5601),r=i(6544),a=i(6158),h=i(4115);async function d(){try{await t.commands.executeCommand("workbench.action.files.openFile")}catch(e){await t.commands.executeCommand("workbench.action.files.openFileFolder")}}e.activate=function(e){const i=new a.StatusBar,s=new n.CommandRelay,c=new h.WhichKeyRegistry(i,s);e.subscriptions.push(t.commands.registerCommand(o.Commands.Trigger,s.triggerKey,s),t.commands.registerCommand(o.Commands.UndoKey,s.undoKey,s),t.commands.registerCommand(o.Commands.Register,c.register,c),t.commands.registerCommand(o.Commands.Show,c.show,c),t.commands.registerCommand(o.Commands.SearchBindings,s.searchBindings,s),t.commands.registerCommand(o.Commands.ShowTransient,r.showTransientMenu.bind(c,i,s)),t.commands.registerCommand(o.Commands.RepeatRecent,c.repeatRecent,c),t.commands.registerCommand(o.Commands.RepeatMostRecent,c.repeatMostRecent,c),t.commands.registerCommand(o.Commands.ToggleZen,s.toggleZenMode,s),t.commands.registerCommand(o.Commands.OpenFile,d)),e.subscriptions.push(c,s,i)}})();var n=exports;for(var o in s)n[o]=s[o];s.__esModule&&Object.defineProperty(n,"__esModule",{value:!0})})();
//# sourceMappingURL=extension-node.js.map